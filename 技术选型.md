# 一、目标

找到系统开发的范式（思想、框架、包、工具等）……

- 提升开发运维效率
- 规范软件过程管理

*做有意义的事情，不做重复的事情！*

# 二、过程

1. 现实中发现痛点并总结
2. 了解一些成熟的思想/模式潮流，寻求解决方案
3. 领会对比相应框架应用的优缺点，是否适用
4. 实践中再不断优化、补齐（没有最好、只有更好）

## 2.1 痛点

1. 前后端不分离
2. 区域性定制很难控制
    - 分析：一套系统内如何隔离分歧点？ -> 多版本分支控制、核心版本
3. 逻辑代码复用率不高
    - 表现：
        1. 大的“事务”
        2. 很多函数作用相似、参数不同
    - 分析：
        1. 区域性分歧
        2. 为了数据库连接复用
        3. 数据存储相关
            - 更新冗余数据
            - 数据结构不统一
        4. 逻辑前置条件不同
            - 关联属性，描述角度不同
        5. 不同逻辑单元组合
4. 文档对运维指导性差
    - 实现业务细节要看代码
5. ……

## 2.2 模式

1. 借鉴面向对象、设计模式
    - 难点：如何控制代码质量？
2. 借鉴领域模型驱动设计思想
    - 借鉴实体（属性、方法、事务、关联/约束）、值对象、聚合等概念来描述文档？ OR 使用UML图例形成开发文档
3. 微服务解决方案
4. 规范代码
    - 接口
        - restful
    - 异常处理
        - middleware
    - 数据库存取
        - async/await

## 2.3 微服务架构风格

### 2.3.1 定义
1. 一些列的独立的服务共同组成系统
2. 单独部署，跑在自己的进程里
3. 每个服务为独立的业务开发
4. 分布式的管理 

### 2.3.3 实践

1. 客户端访问服务：
    - 统一访问入口
    - 聚合后台服务，节省流量，提升性能 OR 数据不分库
    - 提供安全，过滤，流控等API管理功能 
2. 服务间通讯：
    - 异步：消息调用

- A状态转换引发 B状态转换，细节：
    - A事件发生
        - 处理A业务
        - A消息发布
    - B对A消息订阅
        - 处理B业务

# 三、实践

## 3.1 技术应用

|项目| 应用|
|---|---|
|操作系统| ubuntu 16.04 server|
|编辑器| vscode|
|版本控制、协作| git|
|开发语言| javascript|
|运行时环境| nodejs|
|数据库| mysql|
|缓存| redis|
|消息队列| rabbitMQ|
|反向代理| nginx|

## 3.2 框架&包

|项目| 应用|
|---|---|
|框架| |
|会话| |
|日志| |
|文档| |
|部署、监控| |
|单元测试| |
|调试| |
|命令行| |

## 3.3 安全

|应用|
|---|
|HTTPS|
|……|


# 四、未完

1. 逻辑组合可配置、开关
2. 前端框架演进
    - bootstrap/jquery -> react、redux
3. 监控平台

